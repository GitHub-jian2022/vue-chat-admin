(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-459c6d04"],{"0648":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contact"},[s("van-nav-bar",{attrs:{title:"通讯录"}}),s("van-index-bar",{attrs:{"index-list":t.indexList}},t._l(t.data,function(e,a){return s("div",{key:a},[s("van-index-anchor",{attrs:{index:e[0].belong}},[t._v(t._s(e[0].belong))]),t._l(e,function(e,a){return s("contact-item",{key:a,attrs:{user:e},on:{ItemClick:t.ItemClick}})})],2)}),0),s("Footer",{attrs:{page:"contact"}})],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cell-item",on:{click:t.ItemClick}},[s("img",{staticClass:"avatar",attrs:{src:t.user.img,alt:""}}),s("div",{staticClass:"cell-item-content"},[s("div",[t._v(t._s(t.user.username))])])])},c=[],r={name:"ContactItem",props:{user:{type:Object,default:{}}},methods:{ItemClick(){this.$emit("ItemClick",this.user)}}},o=r,l=(s("2210"),s("2877")),u=Object(l["a"])(o,i,c,!1,null,"0c9fa8b8",null),f=u.exports,m=s("fd2d"),d={components:{ContactItem:f,Footer:m["a"]},data(){return{data:{},indexList:[]}},created(){this.getUsers()},methods:{ItemClick(t){let e=this.tim.getUserProfile({userIDList:[t.userId]});e.then(t=>{const e=t.data[0];let s={conversationID:"C2C"+e.userID,type:"C2C",userProfile:e};this.$store.commit("conversation/createcurrentConversation",s),this.$router.push("/room")}).catch(t=>{console.warn("getUserProfile error:",t)})},async getUsers(){let t=JSON.parse(localStorage.getItem("userInfo")),{data:e}=await this.$axios.get("/user/users");e=e.filter(e=>e.userId!==t.userId);let s={};e.forEach((t,e)=>{const a=t.username.substring(0,1).toUpperCase();t.belong=a,s[t.belong]?s[t.belong].push(t):s[t.belong]=[t]});let a=[];for(let n in s){const t=a.indexOf(n);t>-1?a[t].push(s[n]):a.push(s[n])}a.sort((t,e)=>{return(t[0].username+"").localeCompare(e[0].username+"")}),this.data=a,this.indexList=Object.keys(s)}}},v=d,C=(s("2b0b"),Object(l["a"])(v,a,n,!1,null,"000c4fee",null));e["default"]=C.exports},"104d":function(t,e,s){"use strict";var a=s("1610"),n=s.n(a);n.a},1610:function(t,e,s){},2210:function(t,e,s){"use strict";var a=s("cb44"),n=s.n(a);n.a},"2b0b":function(t,e,s){"use strict";var a=s("f4c4"),n=s.n(a);n.a},cb44:function(t,e,s){},f4c4:function(t,e,s){},fd2d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"footer flex jc-sa w100pc fixed bott0 bg-fff aic footer"},[s("li",{staticClass:"item"},[s("router-link",{staticClass:"flex2 aic f20 yellow",attrs:{to:"/index","active-class":"active"}},[s("van-icon",{attrs:{name:"chat-o"}}),s("p",{staticClass:"mt-5 f12 text"},[t._v("首页")])],1)],1),s("li",{staticClass:"item"},[s("router-link",{staticClass:"flex2 aic f20 text",attrs:{to:"/contact","active-class":"active"}},[s("van-icon",{attrs:{name:"friends-o"}}),s("p",{staticClass:"mt-5 text f12"},[t._v("通讯录")])],1)],1),s("li",{staticClass:"item"},[s("router-link",{staticClass:"flex2 aic f20 text",attrs:{to:"/my","active-class":"active"}},[s("van-icon",{staticClass:"text",attrs:{name:"user-o"}}),s("p",{staticClass:"mt-5 text f12"},[t._v("我的")])],1)],1)])},n=[],i={components:{}},c=i,r=(s("104d"),s("2877")),o=Object(r["a"])(c,a,n,!1,null,"5a02651c",null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-459c6d04.663acc02.js.map